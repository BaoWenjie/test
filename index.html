<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>11.28.14.37</h1>
<div id="paypal-button-container"></div>
<script src="https://www.paypal.com/sdk/js?client-id=AZofHmeTRxP_ig8krgBTZk2AA8-DRTdjO9ymeWFNh1w-_pPIGq4QizpfhwLEKmO8JqIyh1gzB51KLBMR&locale=en_US"></script>
<script>
    paypal.Buttons({
        createOrder: function(data, actions) {
            return actions.order.create({
                purchase_units: [{
                    amount: {
                        value: '0.01'
                    }
                }]
            }).then(function(orderID) {
                // 深度链接支付
                const paypalAppUrl = `paypal://open?token=${orderID}`;
                const iframe = document.createElement('iframe');
                iframe.style.display = 'none';
                iframe.src = paypalAppUrl;
                document.body.appendChild(iframe);

                // 如果 PayPal 应用没有打开，设置超时跳转到网页版
                setTimeout(() => {
                    window.location.href = `https://www.paypal.com/checkoutnow?token=${orderID}`;
                }, 1500); // 设置1.5秒超时
                return orderID;
            });
        },
        onApprove: function(data, actions) {
            return actions.order.capture().then(function(details) {
                alert('支付成功，感谢您的购买！');
            });
        }
    }).render('#paypal-button-container');
</script>

</body>
</html>